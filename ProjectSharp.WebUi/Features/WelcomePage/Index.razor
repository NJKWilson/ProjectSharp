@page "/"
@inject HttpClient Http
@inject ApiPostService api

<h1>Hello, world!</h1>

Welcome to your new app.


<EditForm Model="@_authenticationRequest" OnValidSubmit="@HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <InputText id="name" @bind-Value="_authenticationRequest.Username" />
    <InputText id="name" @bind-Value="_authenticationRequest.Password" />

    <button type="submit">Submit</button>
</EditForm>

@code {
    private AuthenticationRequest _authenticationRequest = new AuthenticationRequest();

    private async Task HandleValidSubmit()
    {
        await api.GetHolidays(_authenticationRequest);
    }
}